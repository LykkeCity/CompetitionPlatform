@model IEnumerable<CompetitionPlatform.Data.AzureRepositories.Users.IPublicFeedbackData>
@{
    ViewData["Title"] = "Feedbacks";
}

<style>
    .feedback {
        border-bottom: 1px solid #EBEDEF;
        margin-bottom: 60px;
        padding-bottom:20px;
    }

    .feedback-actions {
        margin-bottom: 20px;
    }
</style>
<br />
<br />
<br />

<section class="section">
    <div class="container container--extend">
        <div>
            @if (ViewBag.IsAdmin)
            {
                <a href="@Url.Action("CreateOrEditFeedback")" class="btn pull-right">
                    <i class="icon icon--add"></i>Add Feedback
                </a>
            }
            <h1>Feedbacks</h1>
        </div>

        <br />

        @foreach (var feedback in Model)
        {
            <div class="feedback">
                <h4>@feedback.Title</h4>

                @if (ViewBag.IsAdmin)
                {
                    <div class="feedback-actions">
                        <a href="@Url.Action("CreateOrEditFeedback", new { id = feedback.RowKey })" class="btn btn-xs">Edit</a>
                        <a href="@Url.Action("DeleteFeedback", new { id = feedback.RowKey })" class="btn btn--red btn-xs"
                           onclick="return confirm('Are you sure you want to delete this feedback?');">Delete</a>
                    </div>
                }

                @Html.Raw(feedback.Feedback)
                <div>&nbsp;</div>
                <label class="label">@feedback.User</label>
            </div>
        }
    </div>
    <br />
    <br />
    <br />
</section>